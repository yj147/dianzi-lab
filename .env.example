# Supabase PostgreSQL Connection
# Get these from: Supabase Dashboard -> Project Settings -> Database -> Connection String

# Transaction pooler (port 6543) - for application connections
# Supports connection pooling via pgbouncer
DATABASE_URL="postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres?pgbouncer=true"

# Session pooler (port 5432) - for migrations and Prisma Studio
# Uses session mode (not transaction mode), required for DDL operations
DIRECT_URL="postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres"

# Optional: isolate Preview deployments by using a dedicated Postgres schema (same DB, different schema)
# - Leave unset in production (defaults to public schema)
# - For Preview: set to "preview" and run migrations against that schema
DATABASE_SCHEMA="preview"

# Auth
JWT_SECRET="change-me"

# Admin seed (hardened deployments require explicit credentials; NEVER use default passwords in production)
SEED_ADMIN_EMAIL="admin@example.com"
SEED_ADMIN_PASSWORD="change-me-strong"

# Supabase Storage (for file deliverables)
# Get these from: Supabase Dashboard -> Project Settings -> API
NEXT_PUBLIC_SUPABASE_URL="https://[project-ref].supabase.co"
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"

# Storage Setup Instructions:
# 1. Go to Supabase Dashboard -> Storage
# 2. Create a new bucket named "deliverables"
# 3. Set bucket to PRIVATE (not public) for security
# 4. Files are accessed via signed URLs only (getSignedUrl action)
# 5. Only Idea owners can download their deliverables
